<!DOCTYPE html>
<!-- saved from url=(0067)http://scop.test.yijiupidev.com/templates/index.html#/inventoryList -->
<html lang="zh-cn"><!--<![endif]--><!-- BEGIN HEAD -->
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>伟业手动添加后台</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1" name="viewport">

    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="weiyebancai/font-opensans.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/simple-line-icons.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/bootstrap.fileinput.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/uniform.default.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/bootstrap-switch.min.css" rel="stylesheet" type="text/css">

    <link href="weiyebancai/angular-block-ui.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/angular-toastr.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/select.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/select.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/selectize.default.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/bootstrap-datetimepicker.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/bootstrap-datepicker3.min.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/select2.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/select2-bootstrap.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/components-rounded.css" id="style_components" rel="stylesheet" type="text/css">
    <link href="weiyebancai/plugins.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/weui.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/custom.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/layout.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/darkblue.css" rel="stylesheet" type="text/css" id="style_color">
    <link href="weiyebancai/custom(1).css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/SelectSearch.css" rel="stylesheet" type="text/css">
    <link href="weiyebancai/add-picture.css" rel="stylesheet" type="text/css">
    <script src="../../js/jquery-2.1.0.js"></script>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body data-ng-controller="AppController"
      class="page-header-fixed page-style-square ng-scope block-ui block-ui-anim-fade"
      data-ng-class="{&#39;page-sidebar-closed&#39;: settings.layout.pageSidebarClosed}" block-ui="main"
      aria-busy="false" onload="bodyonload()">

<div class="page-content-wrapper">
    <div class="page-content" id="dataLoading" style="min-height:813px">
        <div data-ui-view="" class="fade-in-up ng-scope">
            <div data-page-top="">
                <h3 class="page-title ng-binding" data-ng-bind="$state.current.data.pageTitle">添加商品</h3>
            </div>
            <div class="row" data-page-content="">
                <div class="col-md-12">
                    <div class="portlet light bordered">
                        <div class=" portlet-title">
                            <div class=" caption " data-ng-hide="$state.current.data.captionHelper">
                                <span class=" caption-subject font-green-sharp bold uppercase"> 添加 </span>&nbsp;
                                <span class=" caption-helper"
                                      style="color: red"> 此功能主要负责将未统计的商品放入仓库，统计完毕后应当使用出入单功能增加库存 </span>
                            </div>
                            <!-- ngIf: $state.current.data.captionHelper -->
                        </div>
                        <div class="portlet-body" data-ng-transclude="">
                            <form onkeydown="if(event.keyCode==13){return false;}"
                                  class="form-horizontal data-ng-pristine data-ng-valid searchbox ng-pristine ng-valid"
                                  data-page-search="">
                                <div class="form-body" data-ng-transclude="">
                                    <div class="row">
                                        <div class="col-md-3"></div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">产品名称：</label>
                                                <div class="col-md-5">
                                                    <input type="text" name="product_name"
                                                           class="form-control "
                                                           placehold="产品名称" id="productName">
                                                </div>
                                                <div class="col-md-4" id="tishi1"
                                                     style="margin-top: 8px;color:red;"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">产品类别：</label>
                                                <div class="col-md-5">
                                                    <product-display-category display-category-vo="vo"
                                                                              display-partner-category-id="vo.firstCategoryId"
                                                                              display-subcategory-id="vo.secondCategoryId"
                                                                              class="ng-isolate-scope">
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <select class="form-control"
                                                                        onchange="leimuchange(this)" id="fatherleibie">
                                                                    <option value="" ng-hide="hidePleaseSelect"
                                                                            class="">请选择
                                                                    </option>
                                                                    <option value="板材" label="板材">板材</option>
                                                                    <option value="五金" label="五金">五金</option>
                                                                    <option value="其他" label="其他">其他</option>
                                                                </select></div>
                                                            <div class="col-md-6">
                                                                <select class="form-control" id="chirdleibie">
                                                                    <option>
                                                                        请选择
                                                                    </option>
                                                                </select></div>
                                                        </div>
                                                    </product-display-category>
                                                </div>
                                                <div class="col-md-4" id="tishi2"
                                                     style="margin-top: 8px;color:red;"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">产品数量：</label>
                                                <div class="col-md-5">
                                                    <input type="number" name="product_name"
                                                           class="form-control "
                                                           id="productCount">
                                                </div>
                                                <div class="col-md-2" id="tishi3"
                                                     style="margin-top: 8px;color:red;"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">商品所处地：</label>
                                                <div class="col-md-5">
                                                    <product-display-category display-category-vo="vo"
                                                                              display-partner-category-id="vo.firstCategoryId"
                                                                              display-subcategory-id="vo.secondCategoryId"
                                                                              class="ng-isolate-scope">
                                                        <div class="row">
                                                            <div class="col-md-12"><select
                                                                    class="form-control" id="productwarehouse">
                                                                <option value="">
                                                                    请选择
                                                                </option>
                                                                <option value="店内" label="店内">店内</option>
                                                                <option value="仓库" label="仓库">仓库</option>
                                                            </select></div>
                                                        </div>
                                                    </product-display-category>
                                                </div>
                                                <div class="col-md-4" id="tishi4"
                                                     style="margin-top: 8px;color:red;"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">产品进价：</label>
                                                <div class="col-md-5">
                                                    <input type="number" class="form-control "
                                                           placeholder="计算利润可用，模糊数据即可" id="productBid">
                                                </div>
                                                <div class="col-md-4" id="tishi5"
                                                     style="margin-top: 8px;color:red;"></div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">产品品牌：</label>
                                                <div class="col-md-5">
                                                    <input type="text" class="form-control "
                                                           placeholder="没有可以不填" id="productbrand">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <div class="row">
                                        <div class="col-md-7 col-md-offset-5">
                                            <button type="button" class="btn btn-primary"
                                                    onclick="searchClick()"> 添加
                                            </button>
                                            <button type="button" class="btn btn-default"
                                                    onclick="resetClick()">清空
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>


<script type="text/javascript">
    var data = ['请选择', '板材', '门类', '五金', '其他'];
    var data1 = [
        ['请选择'],
        ['伟业生态板', '普通生态板', '伟业板', '面漆板', '多层板', '石膏板', '面板', '杨木板', '铝扣板'],
        ['衣柜移门', '瓶格门', '房门'],
        ['轻钢龙骨', '扣条', '木方', '枪钉', '合页', '拉手', '免钉胶', '小五金'],
        ['其他', '其他']
    ];

    function bodyonload() {
        var str = "";
        for (var i = 0; i < data.length; i++) {
            str += "<option>" + data[i] + "</option> ";
        }
        $("#fatherleibie").html(str);
    }

    function leimuchange(obj) {
        var index = obj.selectedIndex;
        var str = "";
        for (var i = 0; i < data1[index].length; i++) {
            str += " <option value='" + data1[index][i] + "' label='" + data1[index][i] + "'>" + data1[index][i] + " </option>";
        }
        $("#chirdleibie").html(str);
    }

    function searchClick() {
        var productName = $("#productName").val();
        var productCategory = $("#chirdleibie").val();
        var productCount = $("#productCount").val();
        var productWarehouse = $("#productwarehouse").val();
        var productBrand = $("#productbrand").val();
        var productBid = $("#productBid").val();
        if (productName == null || productName == "") {
            $("#tishi1").html("请填写产品名称");
            return;
        }
        $("#tishi1").html("");
        if (productCategory == null || productCategory == "" || productCategory == "请选择") {
            $("#tishi2").html("请选择产品种类");
            return;
        }
        $("#tishi2").html("");
        if (productCount == null || productCount == "") {
            $("#tishi3").html("请填写产品库存数");
            return;
        }
        $("#tishi3").html("");
        if (productWarehouse == null || productWarehouse == "" || productWarehouse == "请选择") {
            $("#tishi4").html("请填写产品所在地");
            return;
        }
        if (productBid == null || productBid == "" || productBid == "请选择") {
            $("#tishi5").html("请填写产品进价");
            return;
        }
        if (!/^\d+(\.\d{1,2})?$/.test(productBid)) {
            $("#tishi5").html("小数只可填写两位小数");
            return;
        }
        $("#tishi5").html("");
        $.ajax({
            type: "POST",      //传输方式
            url: "http://localhost/insertProduct", //地址
            dataType: 'json',
            contentType: 'application/json',
            data: JSON.stringify({            //传递的参数
                "productName": productName,
                "productCategory": productCategory,
                "productCount": productCount,
                "productWarehouse": productWarehouse,
                "productBrand": productBrand,
                "productBid": productBid
            }),
            success: function (obj) {
                if (obj.code == 0) {
                    resetClick();
                } else {
                    alert("添加失败!!!请重新添加");
                }
            }
        });
    }

    function resetClick() {
        $("#productName").val("");
        var str = "";
        for (var i = 0; i < data.length; i++) {
            str += "<option>" + data[i] + "</option>"
        }
        $("#fatherleibie").html(str);
        $("#chirdleibie").html("<option value='请选择' label='请选择'>请选择</option>");
        $("#productName").val("");
        $("#productCount").val("");
        $("#productwarehouse").val("<option>请选择</option>店内<option></option><option>仓库</option>");
        $("#productbrand").val("");
        $("#productBid").val("");
    }
</script>
</html>